{"version":3,"file":"Sessions-BfrInt-t.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/laptop-minimal.js","../../../resources/js/Pages/Settings/Profile/Partials/Sessions.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.417.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LaptopMinimal = createLucideIcon(\"LaptopMinimal\", [\n  [\"rect\", { width: \"18\", height: \"12\", x: \"3\", y: \"4\", rx: \"2\", ry: \"2\", key: \"1qhy41\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"20\", y2: \"20\", key: \"ni3hll\" }]\n]);\n\nexport { LaptopMinimal as default };\n//# sourceMappingURL=laptop-minimal.js.map\n","import { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { Transition } from \"@headlessui/react\";\r\nimport { useForm } from \"@inertiajs/react\";\r\nimport { MobileIcon, ReloadIcon } from \"@radix-ui/react-icons\";\r\nimport { Laptop2 } from \"lucide-react\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { FaMobile } from \"react-icons/fa6\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function Sessions() {\r\n    const [sessionsData, setSessionsData] = useState([]);\r\n    const [fetching, setFetching] = useState(true);\r\n    const { delete: destroy, processing, recentlySuccessful } = useForm();\r\n\r\n    const fetchData = async () => {\r\n        const response = await fetch(\"/sessions\");\r\n        if (response.ok) {\r\n            const dataSessions = await response.json();\r\n            setSessionsData(dataSessions);\r\n            setFetching(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    const revokeSession = async (id: string) => {\r\n        destroy(`/sessions/${id}`, {\r\n            preserveScroll: true,\r\n            onSuccess: () => {\r\n                fetchData();\r\n            },\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader>\r\n                <CardTitle>Sessions</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n                {fetching ? (\r\n                    <div className=\"space-y-6\">\r\n                        <SkeletonPlaceholder />\r\n                        <SkeletonPlaceholder />\r\n                        <SkeletonPlaceholder />\r\n                    </div>\r\n                ) : (\r\n                    <ul className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                        {sessionsData.map((sessionData: any) => (\r\n                            <li\r\n                                key={sessionData.id}\r\n                                className=\"py-4 flex gap-4 overflow-hidden\"\r\n                            >\r\n                                <div className=\"flex w-full gap-4 items-center\">\r\n                                    {sessionData.device_type === \"Desktop\" ? (\r\n                                        <Laptop2 />\r\n                                    ) : (\r\n                                        <FaMobile size={22} />\r\n                                    )}\r\n                                    <div className=\"space-y-1\">\r\n                                        <p className=\"text-base font-semibold text-gray-900 dark:text-white cursor-pointer\">\r\n                                            {sessionData.country}(\r\n                                            {sessionData.city})-\r\n                                            {sessionData.ip_address}\r\n                                        </p>\r\n                                        <p className=\"text-sm font-semibold text-gray-900 truncate dark:text-white\">\r\n                                            {sessionData.device_type}(\r\n                                            {sessionData.platform}\r\n                                            {sessionData.platform_version})-\r\n                                            {sessionData.browser}\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                {!sessionData.is_active ? (\r\n                                    <Button\r\n                                        type=\"submit\"\r\n                                        disabled={processing}\r\n                                        variant=\"outline\"\r\n                                        onClick={() =>\r\n                                            revokeSession(sessionData.id)\r\n                                        }\r\n                                    >\r\n                                        {processing ? (\r\n                                            <React.Fragment>\r\n                                                <ReloadIcon className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                            </React.Fragment>\r\n                                        ) : (\r\n                                            \"Revoke\"\r\n                                        )}\r\n                                    </Button>\r\n                                ) : (\r\n                                    <>\r\n                                        <span className=\"text-sm text-green-600 mr-2 pr-2 \">\r\n                                            (active)\r\n                                        </span>\r\n                                    </>\r\n                                )}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                )}\r\n                <Transition\r\n                    show={recentlySuccessful}\r\n                    enter=\"transition ease-in-out\"\r\n                    enterFrom=\"opacity-0\"\r\n                    leave=\"transition ease-in-out\"\r\n                    leaveTo=\"opacity-0\"\r\n                >\r\n                    <p className=\"text-sm text-primary\">\r\n                        Session rewoked successfully.\r\n                    </p>\r\n                </Transition>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n\r\nconst SkeletonPlaceholder = () => (\r\n    <div className=\"flex justify-between items-center gap-4\">\r\n        <div className=\"flex gap-4 w-full\">\r\n            <Skeleton className=\"w-8 h-10\" />\r\n            <div className=\"space-y-2 w-full\">\r\n                <Skeleton className=\"w-[80%] h-5\" />\r\n                <Skeleton className=\"w-[50%] h-3\" />\r\n            </div>\r\n        </div>\r\n        <Skeleton className=\"w-20 h-10\" />\r\n    </div>\r\n);\r\n"],"names":["LaptopMinimal","createLucideIcon","Sessions","sessionsData","setSessionsData","useState","fetching","setFetching","destroy","processing","recentlySuccessful","useForm","fetchData","response","dataSessions","useEffect","revokeSession","id","Card","jsx","CardHeader","CardTitle","CardContent","jsxs","SkeletonPlaceholder","sessionData","Laptop2","FaMobile","Fragment","Button","React","ReloadIcon","Transition","Skeleton"],"mappings":"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","x_google_ignoreList":[0]}