import{r as o,j as e,w as j,t as g,J as D}from"./app-BOQZNA3r.js";import{D as k,a as y,b as F,c as b,d as v,e as P,f as C}from"./drawer-D-7W2o-9.js";import N from"./UpdateForm-BEgb_hhU.js";import{O}from"./offersForm-CBdkX3Qf.js";import{a as S}from"./index-BxJA8sjD.js";import"./index-CMPCDGMv.js";import"./input-DELo8El7.js";import"./use-combine-values-C7NWFPML.js";import"./motion-jev4RzsA.js";import"./label-DyIUDMiB.js";import"./select-D3RgUlHS.js";import"./index-BdQq_4o_.js";import"./index-BQAw569x.js";import"./index-DiQKiitX.js";import"./chevron-down-DmAu_b38.js";import"./textarea-CU9b8o3s.js";import"./react-icons.esm-Bb_X1ijD.js";import"./search-select-4YQh_Y_H.js";import"./command-DMsnYI8w.js";import"./dialog-BcfKVCAb.js";import"./search-FFPjmnRD.js";import"./index-DsGR-aJQ.js";import"./LabelInputContainer-VaPF5sWp.js";import"./InputError-CGYjvlaJ.js";import"./multi-select-DCCqSIAV.js";import"./checkbox-DkbzEEfI.js";import"./skeleton-CirQPehk.js";function oe({unique_id:i}){const[n,a]=o.useState(!1),[t,c]=o.useState({offer:{},domains:[],users:[],networks:[],countries:[],categories:[]}),[f,m]=o.useState(!0),l=async()=>{try{const r=await Promise.all([fetch(`/dashboard/offers/${i}`),fetch("/fetch/domains"),fetch("/fetch/all-users"),fetch("/fetch/networks"),fetch("/fetch/countriesData"),fetch("/fetch/categories")]),[p,d,h,u,w,x]=await Promise.all(r.map(s=>s.ok?s.json():Promise.reject(s)));c({offer:p,domains:d,users:h,networks:u,countries:w,categories:x}),m(!1)}catch{D.error("Failed to fetch data. Please try again later.")}};return e.jsxs(k,{open:n,onOpenChange:a,direction:"top",dismissible:!1,children:[e.jsx(y,{className:"w-full",onClick:l,children:e.jsxs("p",{className:`w-full flex gap-4 ${j({variant:"ghost"})}`,children:["Edit",e.jsx(g,{size:11})]})}),e.jsx(F,{className:"h-full rounded-none",onInteractOutside:r=>r.preventDefault(),children:e.jsxs("div",{className:"h-screen overflow-y-auto",children:[e.jsxs(b,{children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(v,{children:"Update offer"}),e.jsx(P,{children:e.jsx(S,{})})]}),e.jsx(C,{children:"Fill out the form below to create a new offer. Provide the necessary details including domain, network, users, and target countries to ensure the offer is configured correctly."})]}),f?e.jsx(O,{}):e.jsx(N,{categories:t.categories,domains:t.domains,networks:t.networks,users:t.users,countries:t.countries,offer:t.offer,doneFunction:()=>a(!1)})]})})]})}export{oe as default};
//# sourceMappingURL=update-C02I36mZ.js.map
