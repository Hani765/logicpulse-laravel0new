import{W as C,j as e,B as _,J as g}from"./app-BOQZNA3r.js";import{L as o}from"./label-DyIUDMiB.js";import{S as n,a as m,b as c,c as u,d as p}from"./select-D3RgUlHS.js";import{S as q}from"./search-select-4YQh_Y_H.js";import{P as V}from"./password-input-B5qJd4qe.js";import{L as d}from"./LabelInputContainer-VaPF5sWp.js";import{T as M}from"./textarea-CU9b8o3s.js";import{I as t}from"./InputError-CGYjvlaJ.js";import{S as k}from"./SubmitBtn-BvGcnKlA.js";import{M as F}from"./multi-select-DCCqSIAV.js";import"./index-BdQq_4o_.js";import"./index-BQAw569x.js";import"./index-DiQKiitX.js";import"./chevron-down-DmAu_b38.js";import"./command-DMsnYI8w.js";import"./dialog-BcfKVCAb.js";import"./index-CMPCDGMv.js";import"./search-FFPjmnRD.js";import"./index-DsGR-aJQ.js";import"./input-DELo8El7.js";import"./use-combine-values-C7NWFPML.js";import"./motion-jev4RzsA.js";import"./index-DpeUaN6f.js";import"./react-icons.esm-Bb_X1ijD.js";import"./checkbox-DkbzEEfI.js";const T=({domains:j,role:f,offers:v,user:r,doneFunction:h})=>{const{data:a,setData:l,put:w,errors:i,processing:S}=C({username:r.user.username,email:r.user.email,password:"",domain_id:r.user.domain_id||"",rate:r.user.rate,phone:r.user.phone,skype:r.user.skype,details:r.user.details,offer_ids:r.offer_unique_ids||"",notification:r.user.notification,role:r.user.role,isVerified:r.user.isVerified,status:r.user.status}),N=(s=>{switch(s){case"administrator":return["admin","manager","user"];case"admin":return["manager","user"];case"manager":return["user"];default:return[]}})(f),b=async s=>{s.preventDefault(),w(`/dashboard/users/${r.user.unique_id}`,{onSuccess:()=>{g.success("User updated successfully!"),h()},onError:x=>{const y=x.username||x.email||"An error occurred";g.error(y)}})};return e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"w-full space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(d,{type:"text",id:"username",value:a.username,onChange:s=>l({...a,username:s.target.value}),required:!0,helperText:"eg: john doe",className:"col-span-2 md:col-span-1",label:"Username",errorMessage:i.username,autoFocus:!0})}),e.jsx("div",{className:"w-fu",children:e.jsx(d,{type:"email",id:"email",value:a.email,onChange:s=>l({...a,email:s.target.value}),required:!0,helperText:"example@gmail.com",label:"Email",errorMessage:i.email})}),e.jsxs("div",{className:"w-full -mt-1.5",children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsx(V,{id:"password",placeholder:"********",value:a.password,onChange:s=>l({...a,password:s.target.value})}),e.jsx(t,{message:i.password})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(q,{items:j,selected_value:a.domain_id,onSelect:s=>{l({...a,domain_id:s})},label:"Select Domain",errorMessage:i.domain_id,description:"Select a domain that you want to assing to user."})}),e.jsx(d,{type:"number",value:a.rate,onChange:s=>l({...a,rate:s.target.value}),required:!0,helperText:"150",label:"Rate",id:"rate",errorMessage:i.rate}),e.jsx(d,{type:"number",value:a.phone,onChange:s=>l({...a,phone:s.target.value}),required:!0,helperText:"+123-456-789",label:"Phone",id:"phone",errorMessage:i.phone}),e.jsx(d,{type:"number",value:a.skype,onChange:s=>l({...a,skype:s.target.value}),required:!0,helperText:"+123-456-789",label:"Skype",id:"skype",errorMessage:i.skype})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(o,{htmlFor:"message",children:"About:"}),e.jsx(M,{name:"message",placeholder:"Something about user...",id:"message",onChange:s=>l({...a,details:s.target.value}),required:!0,defaultValue:a.details}),e.jsx(t,{message:i.details})]}),e.jsx(F,{items:v,selectedItems:a.offer_ids,onSelect:s=>l({...a,offer_ids:s}),label:"Select Offers",descriptoin:"Select offers that you want to assign to this user."}),e.jsx(t,{message:i.offer_ids}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"w-full ",children:[e.jsx(o,{htmlFor:"message",children:"Allow notifications:"}),e.jsxs(n,{required:!0,value:a.notification,onValueChange:s=>l({...a,notification:s}),children:[e.jsx(m,{className:"h-9 my-1",children:e.jsx(c,{placeholder:"Allow notification"})}),e.jsx(u,{side:"top",children:["yes","no"].map(s=>e.jsx(p,{value:s,children:s},s))})]}),e.jsx(t,{message:i.notification})]}),e.jsxs("div",{className:"w-full ",children:[e.jsx(o,{htmlFor:"message",children:"Role:"}),e.jsxs(n,{required:!0,value:a.role,onValueChange:s=>l({...a,role:s}),children:[e.jsx(m,{className:"h-9 my-1",children:e.jsx(c,{placeholder:"Select role"})}),e.jsx(u,{side:"top",children:N.map(s=>e.jsx(p,{value:s,children:s},s))})]}),e.jsx(t,{message:i.role})]}),e.jsxs("div",{className:"w-full ",children:[e.jsx(o,{htmlFor:"message",children:"Is verified:"}),e.jsxs(n,{required:!0,value:a.isVerified,onValueChange:s=>l({...a,isVerified:s}),children:[e.jsx(m,{className:"h-9 my-1",children:e.jsx(c,{placeholder:"Email verfication"})}),e.jsx(u,{side:"top",children:["yes","no"].map(s=>e.jsx(p,{value:s,children:s},s))})]}),e.jsx(t,{message:i.isVerified})]}),e.jsxs("div",{className:"w-full ",children:[e.jsx(o,{htmlFor:"message",children:"Status:"}),e.jsxs(n,{required:!0,value:a.status,onValueChange:s=>l({...a,status:s}),children:[e.jsx(m,{className:"h-9 my-1",children:e.jsx(c,{placeholder:"Select status"})}),e.jsx(u,{side:"top",children:["active","inactive","banned"].map(s=>e.jsx(p,{value:s,children:s},s))})]}),e.jsx(t,{message:i.status})]})]})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"w-full items-center flex gap-2",children:[e.jsx(_,{variant:"outline",className:" w-full",type:"button",onClick:h,children:"Cancel"}),e.jsx(k,{label:"Update",className:"w-full",processing:S})]})]})},ie=T;export{ie as default};
//# sourceMappingURL=UpdateForm-viaZVIlb.js.map
