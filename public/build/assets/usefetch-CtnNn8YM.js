import{R as t,q as g,a1 as p,J as m}from"./app-CkWx0ziT.js";import{p as k}from"./play-audio-DP9JVqAd.js";function C(o){const[f,l]=t.useState(null),[h,v]=t.useState(null),[d,r]=t.useState(!0),a=g(),c=a.props.auth.user.unique_id,i=a.props.auth.user.role,u=async s=>{try{const e=await fetch(s);if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const n=await e.json();l(n)}catch(e){v(e)}finally{r(!1)}};return t.useEffect(()=>{const s=[];return s.push(p.private(`clickConversion.${c}`)),s.push(p.private(`clickConversion.role.${i}`)),s.forEach(e=>{e.listen(".clickConversion.sent",n=>{n.clickConversion.message==="conversion"&&(k(),m.message("New message",{description:"A new conversion has beed recieved"})),u(o)})}),()=>{s.forEach(e=>{e.stopListening(".clickConversion.sent")})}},[c,i,o]),t.useEffect(()=>{r(!0),u(o)},[o]),{data:f,error:h,isLoading:d}}export{C as u};
//# sourceMappingURL=usefetch-CtnNn8YM.js.map
