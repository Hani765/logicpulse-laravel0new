{"version":3,"file":"cat-J_yptOIf.js","sources":["../../../resources/js/Pages/MarketPlace/partials/cat.tsx"],"sourcesContent":["import { Skeleton } from \"@/components/ui/skeleton\";\r\nimport useFetch from \"@/hooks/usefetch\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport { FaAngleLeft, FaAngleRight } from \"react-icons/fa\";\r\n\r\ninterface DataType {\r\n    unique_id: string;\r\n    name: string;\r\n}\r\n\r\nexport default function Cat({\r\n    selected,\r\n    onSelect,\r\n}: {\r\n    selected: string;\r\n    onSelect: (id: string) => void;\r\n}) {\r\n    const { data, isLoading, error } =\r\n        useFetch<DataType[]>(\"/fetch/categories\");\r\n    const scrollRef = useRef<HTMLDivElement>(null);\r\n    const [showLeftArrow, setShowLeftArrow] = useState(false);\r\n    const [showRightArrow, setShowRightArrow] = useState(false);\r\n\r\n    // Check scroll position to control arrow visibility\r\n    const checkScroll = () => {\r\n        const element = scrollRef.current;\r\n        if (element) {\r\n            const { scrollLeft, scrollWidth, clientWidth } = element;\r\n            setShowLeftArrow(scrollLeft > 0);\r\n            setShowRightArrow(scrollLeft < scrollWidth - clientWidth);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        checkScroll(); // Run on initial render\r\n        const element = scrollRef.current;\r\n        if (element) {\r\n            element.addEventListener(\"scroll\", checkScroll);\r\n            return () => element.removeEventListener(\"scroll\", checkScroll); // Cleanup listener on unmount\r\n        }\r\n    }, [data]);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"grid grid-cols-10 gap-4\">\r\n                {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((item) => (\r\n                    <Skeleton className=\" h-6 rounded-full\" />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return <div className=\"flex gap-4\">Error loading categories</div>;\r\n    }\r\n\r\n    // Scroll handler\r\n    const scrollLeft = () => {\r\n        scrollRef.current?.scrollBy({ left: -200, behavior: \"smooth\" });\r\n    };\r\n\r\n    const scrollRight = () => {\r\n        scrollRef.current?.scrollBy({ left: 200, behavior: \"smooth\" });\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative flex items-center\">\r\n            {/* Left Arrow */}\r\n            {showLeftArrow && (\r\n                <button\r\n                    className=\"absolute left-0 z-10 bg-white dark:bg-slate-900 rounded-full shadow-lg\"\r\n                    onClick={scrollLeft}\r\n                >\r\n                    <FaAngleLeft className=\"m-2\" />\r\n                </button>\r\n            )}\r\n\r\n            {/* Category List */}\r\n            <div\r\n                className=\"flex gap-2 overflow-x-auto p-2 scroll-smooth scroll-hidden\"\r\n                ref={scrollRef}\r\n            >\r\n                <div\r\n                    className={`whitespace-nowrap px-2 py-1 cursor-pointer rounded-full text-sm  ${\r\n                        selected === \"\"\r\n                            ? \"bg-gray-200 dark:bg-slate-600\"\r\n                            : \"bg-gray-100 dark:bg-slate-800\"\r\n                    }`}\r\n                    onClick={() => onSelect(\"\")}\r\n                >\r\n                    All\r\n                </div>\r\n                {data?.map((category) => (\r\n                    <div\r\n                        key={category.unique_id}\r\n                        className={`whitespace-nowrap px-2 py-1 cursor-pointer rounded-full text-sm  ${\r\n                            selected === category.unique_id\r\n                                ? \"bg-gray-200 dark:bg-slate-600\"\r\n                                : \"bg-gray-100 dark:bg-slate-800\"\r\n                        }`}\r\n                        onClick={() => onSelect(category.unique_id)}\r\n                    >\r\n                        {category.name}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Right Arrow */}\r\n            {showRightArrow && (\r\n                <button\r\n                    className=\"absolute right-0 z-10 bg-white dark:bg-slate-900 rounded-full shadow-lg \"\r\n                    onClick={scrollRight}\r\n                >\r\n                    <FaAngleRight className=\"m-2\" />\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":["Cat","selected","onSelect","data","isLoading","error","useFetch","scrollRef","useRef","showLeftArrow","setShowLeftArrow","useState","showRightArrow","setShowRightArrow","checkScroll","element","scrollLeft","scrollWidth","clientWidth","useEffect","jsx","item","Skeleton","_a","scrollRight","jsxs","FaAngleLeft","category","FaAngleRight"],"mappings":"mNAUA,SAAwBA,EAAI,CACxB,SAAAC,EACA,SAAAC,CACJ,EAGG,CACC,KAAM,CAAE,KAAAC,EAAM,UAAAC,EAAW,MAAAC,CAAM,EAC3BC,EAAqB,mBAAmB,EACtCC,EAAYC,SAAuB,IAAI,EACvC,CAACC,EAAeC,CAAgB,EAAIC,EAAAA,SAAS,EAAK,EAClD,CAACC,EAAgBC,CAAiB,EAAIF,EAAAA,SAAS,EAAK,EAGpDG,EAAc,IAAM,CACtB,MAAMC,EAAUR,EAAU,QAC1B,GAAIQ,EAAS,CACT,KAAM,CAAE,WAAAC,EAAY,YAAAC,EAAa,YAAAC,CAAgB,EAAAH,EACjDL,EAAiBM,EAAa,CAAC,EACbA,EAAAA,EAAaC,EAAcC,CAAW,CAAA,CAEhE,EAWA,GATAC,EAAAA,UAAU,IAAM,CACAL,EAAA,EACZ,MAAMC,EAAUR,EAAU,QAC1B,GAAIQ,EACQ,OAAAA,EAAA,iBAAiB,SAAUD,CAAW,EACvC,IAAMC,EAAQ,oBAAoB,SAAUD,CAAW,CAClE,EACD,CAACX,CAAI,CAAC,EAELC,EAEI,OAAAgB,MAAC,MAAI,CAAA,UAAU,0BACV,SAAA,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAE,EAAE,IAAKC,SACjCC,EAAS,CAAA,UAAU,mBAAoB,CAAA,CAC3C,CACL,CAAA,EAIR,GAAIjB,EACA,OAAQe,EAAAA,IAAA,MAAA,CAAI,UAAU,aAAa,SAAwB,2BAAA,EAI/D,MAAMJ,EAAa,IAAM,QACrBO,EAAAhB,EAAU,UAAV,MAAAgB,EAAmB,SAAS,CAAE,KAAM,KAAM,SAAU,UACxD,EAEMC,EAAc,IAAM,QACtBD,EAAAhB,EAAU,UAAV,MAAAgB,EAAmB,SAAS,CAAE,KAAM,IAAK,SAAU,UACvD,EAGI,OAAAE,EAAA,KAAC,MAAI,CAAA,UAAU,6BAEV,SAAA,CACGhB,GAAAW,EAAA,IAAC,SAAA,CACG,UAAU,yEACV,QAASJ,EAET,SAAAI,EAAAA,IAACM,EAAY,CAAA,UAAU,KAAM,CAAA,CAAA,CACjC,EAIJD,EAAA,KAAC,MAAA,CACG,UAAU,6DACV,IAAKlB,EAEL,SAAA,CAAAa,EAAA,IAAC,MAAA,CACG,UAAW,oEACPnB,IAAa,GACP,gCACA,+BACV,GACA,QAAS,IAAMC,EAAS,EAAE,EAC7B,SAAA,KAAA,CAED,EACCC,GAAA,YAAAA,EAAM,IAAKwB,GACRP,EAAA,IAAC,MAAA,CAEG,UAAW,oEACPnB,IAAa0B,EAAS,UAChB,gCACA,+BACV,GACA,QAAS,IAAMzB,EAASyB,EAAS,SAAS,EAEzC,SAASA,EAAA,IAAA,EARLA,EAAS,SAUrB,EAAA,CAAA,CACL,EAGCf,GACGQ,EAAA,IAAC,SAAA,CACG,UAAU,2EACV,QAASI,EAET,SAAAJ,EAAAA,IAACQ,EAAa,CAAA,UAAU,KAAM,CAAA,CAAA,CAAA,CAClC,EAER,CAER"}