{"version":3,"file":"search-select-Cb-UKa6W.js","sources":["../../../resources/js/components/ui/search-select.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport {\n    Popover,\n    PopoverContent,\n    PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Check, ChevronsUpDown } from \"lucide-react\";\nimport {\n    Command,\n    CommandEmpty,\n    CommandGroup,\n    CommandItem,\n    CommandList,\n} from \"@/components/ui/command\";\nimport { FaQuestionCircle, FaSearch } from \"react-icons/fa\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"./button\";\nimport { Input } from \"./input\";\nimport {\n    Tooltip,\n    TooltipContent,\n    TooltipProvider,\n    TooltipTrigger,\n} from \"./tooltip\";\nimport { Label } from \"./label\";\nexport default function SearchSelect({\n    items,\n    selected_value,\n    onSelect,\n    label,\n    description,\n    bottomMessage,\n    errorMessage,\n}: {\n    items: any;\n    label: string;\n    selected_value: string;\n    onSelect: any;\n    description?: string;\n    bottomMessage?: string;\n    errorMessage?: string;\n}) {\n    const [open, setOpen] = useState(false);\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const filteredItems = items.filter(\n        (item: any) =>\n            item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n            item.unique_id.toLowerCase().includes(searchTerm.toLowerCase()),\n    );\n    return (\n        <div className=\"space-y-1 pt-1\">\n            {label && (\n                <Label\n                    className={`flex gap-1 items-center ${\n                        errorMessage && \"text-red-500\"\n                    }`}\n                >\n                    {label}\n                    {description && (\n                        <TooltipProvider>\n                            <Tooltip>\n                                <TooltipTrigger type=\"button\">\n                                    <FaQuestionCircle\n                                        size={12}\n                                        className=\"mb-0.5\"\n                                    />\n                                </TooltipTrigger>\n                                <TooltipContent className=\"max-w-[300px]\">\n                                    {description}\n                                </TooltipContent>\n                            </Tooltip>\n                        </TooltipProvider>\n                    )}\n                </Label>\n            )}\n            <Popover open={open} onOpenChange={setOpen}>\n                <PopoverTrigger asChild>\n                    <Button\n                        variant=\"outline\"\n                        role=\"combobox\"\n                        aria-expanded={open}\n                        className=\"w-full justify-between bg-gray-50 dark:bg-gray-800 dark:border-white\"\n                    >\n                        <span className=\"overflow-x-hidden\">\n                            {selected_value !== \"\"\n                                ? items.find(\n                                      (tracker: any) =>\n                                          tracker.unique_id === selected_value,\n                                  )?.name\n                                : `${label}...`}\n                        </span>\n                        <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n                    </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-full p-0 max-h-[250px]\">\n                    <Command className=\"w-full\">\n                        <div className=\"relative flex m-0 p-0 justify-center\">\n                            <FaSearch className=\"text-muted text-lg ml-2 absolute left-1 top-3\" />\n                            <Input\n                                placeholder={`${label}...`}\n                                className=\"border-none w-full rounded-none focus-visible:ring-0 pl-8 focus-visible:ring-offset-0\"\n                                value={searchTerm}\n                                onChange={(e) => setSearchTerm(e.target.value)}\n                            />\n                        </div>\n                        <CommandList className=\"overflow-y-auto\">\n                            <CommandEmpty>No data found.</CommandEmpty>\n                            <CommandGroup className=\"\">\n                                {filteredItems.map((item: any) => (\n                                    <CommandItem\n                                        key={item.unique_id}\n                                        value={item.unique_id}\n                                        onSelect={(unique_id) => {\n                                            onSelect(unique_id);\n                                            setOpen(false);\n                                        }}\n                                    >\n                                        <Check\n                                            className={cn(\n                                                \"mr-2 h-4 w-4\",\n                                                selected_value ===\n                                                    item.unique_id\n                                                    ? \"opacity-100\"\n                                                    : \"opacity-0\",\n                                            )}\n                                        />\n                                        {item.name}\n                                    </CommandItem>\n                                ))}\n                            </CommandGroup>\n                        </CommandList>\n                    </Command>\n                </PopoverContent>\n            </Popover>\n            {errorMessage && (\n                <p className=\"text-sm text-red-500 mt-1\">{errorMessage}</p>\n            )}\n            {bottomMessage && (\n                <p className=\"text-sm text-gray-500 mt-1\">{bottomMessage}</p>\n            )}\n        </div>\n    );\n}\n"],"names":["SearchSelect","items","selected_value","onSelect","label","description","bottomMessage","errorMessage","open","setOpen","useState","searchTerm","setSearchTerm","filteredItems","item","jsxs","Label","jsx","TooltipProvider","Tooltip","TooltipTrigger","FaQuestionCircle","TooltipContent","Popover","PopoverTrigger","Button","_a","tracker","ChevronsUpDown","PopoverContent","Command","FaSearch","Input","e","CommandList","CommandEmpty","CommandGroup","CommandItem","unique_id","Check","cn"],"mappings":"ibAyBA,SAAwBA,EAAa,CACjC,MAAAC,EACA,eAAAC,EACA,SAAAC,EACA,MAAAC,EACA,YAAAC,EACA,cAAAC,EACA,aAAAC,CACJ,EAQG,OACC,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAS,EAAK,EAChC,CAACC,EAAYC,CAAa,EAAIF,EAAAA,SAAS,EAAE,EACzCG,EAAgBZ,EAAM,OACvBa,GACGA,EAAK,KAAK,YAAY,EAAE,SAASH,EAAW,YAAa,CAAA,GACzDG,EAAK,UAAU,cAAc,SAASH,EAAW,YAAa,CAAA,CACtE,EAEI,OAAAI,EAAA,KAAC,MAAI,CAAA,UAAU,iBACV,SAAA,CACGX,GAAAW,EAAA,KAACC,EAAA,CACG,UAAW,2BACPT,GAAgB,cACpB,GAEC,SAAA,CAAAH,EACAC,GACGY,EAAA,IAACC,EACG,CAAA,SAAAH,OAACI,EACG,CAAA,SAAA,CAACF,EAAAA,IAAAG,EAAA,CAAe,KAAK,SACjB,SAAAH,EAAA,IAACI,EAAA,CACG,KAAM,GACN,UAAU,QAAA,CAAA,EAElB,EACCJ,EAAA,IAAAK,EAAA,CAAe,UAAU,gBACrB,SACLjB,CAAA,CAAA,CAAA,CAAA,CACJ,CACJ,CAAA,CAAA,CAAA,CAER,EAEHU,EAAA,KAAAQ,EAAA,CAAQ,KAAAf,EAAY,aAAcC,EAC/B,SAAA,CAACQ,EAAAA,IAAAO,EAAA,CAAe,QAAO,GACnB,SAAAT,EAAA,KAACU,EAAA,CACG,QAAQ,UACR,KAAK,WACL,gBAAejB,EACf,UAAU,uEAEV,SAAA,CAAAS,MAAC,OAAK,CAAA,UAAU,oBACX,SAAAf,IAAmB,IACdwB,EAAAzB,EAAM,KACD0B,GACGA,EAAQ,YAAczB,CAC3B,IAHH,YAAAwB,EAGG,KACH,GAAGtB,CAAK,KAClB,CAAA,EACAa,EAAAA,IAACW,EAAe,CAAA,UAAU,kCAAmC,CAAA,CAAA,CAAA,CAAA,EAErE,QACCC,EAAe,CAAA,UAAU,2BACtB,SAACd,EAAA,KAAAe,EAAA,CAAQ,UAAU,SACf,SAAA,CAACf,EAAAA,KAAA,MAAA,CAAI,UAAU,uCACX,SAAA,CAACE,EAAAA,IAAAc,EAAA,CAAS,UAAU,+CAAgD,CAAA,EACpEd,EAAA,IAACe,EAAA,CACG,YAAa,GAAG5B,CAAK,MACrB,UAAU,wFACV,MAAOO,EACP,SAAWsB,GAAMrB,EAAcqB,EAAE,OAAO,KAAK,CAAA,CAAA,CACjD,EACJ,EACAlB,EAAAA,KAACmB,EAAY,CAAA,UAAU,kBACnB,SAAA,CAAAjB,EAAAA,IAACkB,GAAa,SAAc,gBAAA,CAAA,QAC3BC,EAAa,CAAA,UAAU,GACnB,SAAcvB,EAAA,IAAKC,GAChBC,EAAA,KAACsB,EAAA,CAEG,MAAOvB,EAAK,UACZ,SAAWwB,GAAc,CACrBnC,EAASmC,CAAS,EAClB7B,EAAQ,EAAK,CACjB,EAEA,SAAA,CAAAQ,EAAA,IAACsB,EAAA,CACG,UAAWC,EACP,eACAtC,IACIY,EAAK,UACH,cACA,WAAA,CACV,CACJ,EACCA,EAAK,IAAA,CAAA,EAhBDA,EAAK,SAAA,CAkBjB,CACL,CAAA,CAAA,CACJ,CAAA,CAAA,CAAA,CACJ,CACJ,CAAA,CAAA,EACJ,EACCP,GACGU,EAAA,IAAC,IAAE,CAAA,UAAU,4BAA6B,SAAaV,EAAA,EAE1DD,GACGW,EAAA,IAAC,IAAE,CAAA,UAAU,6BAA8B,SAAcX,CAAA,CAAA,CAAA,EAEjE,CAER"}