import{W as b,r as o,j as e,Y as w,a as N,Z as U,J as n}from"./app-CkWx0ziT.js";import{U as v}from"./userCreateUpdateSkeleton-CPnTmYAk.js";import{A as F}from"./AuthenticatedLayout-UbSsgRVo.js";import _ from"./Form-C6VDA_Qu.js";import{S}from"./SubmitBtn-BLHHLASd.js";import{L as k}from"./label-BJBSjzRP.js";import{I as P}from"./image-uploader-Dn9xwcOv.js";import"./skeleton-Dcg2qklM.js";import"./index-D4WClUwC.js";import"./index-bwGpo7tC.js";import"./index-CLgZZdzP.js";import"./index-Bts-4YLx.js";import"./index-BdQq_4o_.js";import"./sheet-CMEpnJqe.js";import"./index-BI6CrKg2.js";import"./tooltip-BzjTxjM0.js";import"./index-Bur4E9wJ.js";import"./chevron-down-DNksLOx3.js";import"./ellipsis-BWvFTAsp.js";import"./credenza-3netIWa9.js";import"./dialog-CMYKyR97.js";import"./input-D_xANFY4.js";import"./use-combine-values-DXlfacMq.js";import"./proxy-D3ZUg4-_.js";import"./circle-user-D2Z5yh8B.js";import"./LabelInputContainer-XQCpEK7k.js";import"./react-icons.esm-oGyrDKWE.js";import"./notify-B8WPPLZs.js";import"./play-audio-DP9JVqAd.js";import"./transition-E3hSKKH_.js";import"./search-HJj0K7uC.js";import"./select-K8YH05Sy.js";import"./index-B6yvsKc-.js";import"./chevrons-up-down-CgSDZjy1.js";import"./search-select-Cb-UKa6W.js";import"./popover-BGhxqbzK.js";import"./command-Bi-o4Peo.js";import"./password-input-CYbie0o9.js";import"./index-BtzfxFID.js";import"./textarea-B0o24yVn.js";import"./InputError-C35wS1yu.js";import"./multi-select-DPI-qEqD.js";import"./badge-DKcNn6KQ.js";import"./checkbox-CtxrMbYo.js";import"./profile_pic-BgAzqiSS.js";function we({auth:a}){const{data:r,setData:i,post:l,errors:p,processing:c}=b({username:"",email:"",password:"",profile_image:"",domain_id:"",rate:"",phone:"",skype:"",details:"",offer_ids:"",notification:"yes",role:"",isVerified:"no",status:"active"}),[m,d]=o.useState({domains:[],offers:[]}),[f,u]=o.useState(!0),h=a.user.role,x=async()=>{try{const t=await Promise.all([fetch("/fetch/domains"),fetch("/fetch/offers")]),[g,y]=await Promise.all(t.map(s=>s.ok?s.json():Promise.reject(s)));d({domains:g,offers:y}),u(!1)}catch{n.error("Failed to fetch data. Please try again later.")}};o.useEffect(()=>{x()},[]);const j=async t=>{t.preventDefault(),l("/dashboard/users",{onSuccess:()=>{n.success("User created successfully")}})};return e.jsxs(F,{user:a.user,children:[e.jsx(w,{title:"Create new user",children:e.jsx("meta",{name:"description",content:`Fill out the form below to add a new user. Please\r
                            provide the necessary details including domain and\r
                            offer information to ensure the user is set up\r
                            correctly. Once all the fields are completed, click\r
                            the submit button to create the user.`})}),e.jsx("h2",{className:"text-lg",children:"Create new user"}),e.jsx("p",{className:"text-sm text-gray-500 hidden sm:block py-1",children:"Fill out the form below to add a new user. Please provide the necessary details including domain and offer information to ensure the user is set up correctly."}),e.jsx(e.Fragment,{children:f?e.jsx(v,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-2 rounded flex justify-between items-center",children:[e.jsxs("div",{className:"",children:[e.jsx(k,{children:"Upload Image"}),e.jsx("p",{className:"text-sm",children:"Upload and set a profile pin for user!"}),r.profile_image&&e.jsx("p",{className:"text-primary text-sm",children:r.profile_image})]}),e.jsx(P,{selected_image:r.profile_image,onUpload:t=>i({...r,profile_image:t})})]}),e.jsxs("form",{onSubmit:j,children:[e.jsx(_,{domains:m.domains,offers:m.offers,role:h,data:r,setData:i,errors:p}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"w-full items-center flex gap-2",children:[e.jsx(N,{href:"/dashboard/users",className:`w-full ${U({variant:"outline"})}`,children:"Cancel"}),e.jsx(S,{label:"Create",className:"w-full",processing:c})]})]})]})})]})}export{we as default};
//# sourceMappingURL=index-DF0LyZa_.js.map
