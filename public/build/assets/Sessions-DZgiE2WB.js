import{d as j,r as a,W as y,j as e,C as u,e as f,as as v,g as w,au as N,B as g,R as S}from"./app-CkWx0ziT.js";import{S as t}from"./skeleton-Dcg2qklM.js";import{R as k}from"./react-icons.esm-oGyrDKWE.js";import{X as b}from"./transition-E3hSKKH_.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=j("LaptopMinimal",[["rect",{width:"18",height:"12",x:"3",y:"4",rx:"2",ry:"2",key:"1qhy41"}],["line",{x1:"2",x2:"22",y1:"20",y2:"20",key:"ni3hll"}]]);function L(){const[l,n]=a.useState([]),[o,d]=a.useState(!0),{delete:x,processing:r,recentlySuccessful:m}=y(),c=async()=>{const s=await fetch("/sessions");if(s.ok){const h=await s.json();n(h),d(!1)}};a.useEffect(()=>{c()},[]);const p=async s=>{x(`/sessions/${s}`,{preserveScroll:!0,onSuccess:()=>{c()}})};return e.jsxs(u,{children:[e.jsx(f,{children:e.jsx(v,{children:"Sessions"})}),e.jsxs(w,{children:[o?e.jsxs("div",{className:"space-y-6",children:[e.jsx(i,{}),e.jsx(i,{}),e.jsx(i,{})]}):e.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.map(s=>e.jsxs("li",{className:"py-4 flex gap-4 overflow-hidden",children:[e.jsxs("div",{className:"flex w-full gap-4 items-center",children:[s.device_type==="Desktop"?e.jsx(C,{}):e.jsx(N,{size:22}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-base font-semibold text-gray-900 dark:text-white cursor-pointer",children:[s.country,"(",s.city,")-",s.ip_address]}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900 truncate dark:text-white",children:[s.device_type,"(",s.platform,s.platform_version,")-",s.browser]})]})]}),s.is_active?e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-sm text-green-600 mr-2 pr-2 ",children:"(active)"})}):e.jsx(g,{type:"submit",disabled:r,variant:"outline",onClick:()=>p(s.id),children:r?e.jsx(S.Fragment,{children:e.jsx(k,{className:"mr-2 h-4 w-4 animate-spin"})}):"Revoke"})]},s.id))}),e.jsx(b,{show:m,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-primary",children:"Session rewoked successfully."})})]})]})}const i=()=>e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex gap-4 w-full",children:[e.jsx(t,{className:"w-8 h-10"}),e.jsxs("div",{className:"space-y-2 w-full",children:[e.jsx(t,{className:"w-[80%] h-5"}),e.jsx(t,{className:"w-[50%] h-3"})]})]}),e.jsx(t,{className:"w-20 h-10"})]});export{L as default};
//# sourceMappingURL=Sessions-DZgiE2WB.js.map
