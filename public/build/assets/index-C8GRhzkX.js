import{W as _,r,j as e,Y as N,a as w,Z as S,J as n}from"./app-CkWx0ziT.js";import{U as k}from"./userCreateUpdateSkeleton-CPnTmYAk.js";import{A as F}from"./AuthenticatedLayout-UbSsgRVo.js";import{S as v}from"./SubmitBtn-BLHHLASd.js";import{L as D}from"./label-BJBSjzRP.js";import{I}from"./image-uploader-Dn9xwcOv.js";import P from"./Form-C6VDA_Qu.js";import"./skeleton-Dcg2qklM.js";import"./index-D4WClUwC.js";import"./index-bwGpo7tC.js";import"./index-CLgZZdzP.js";import"./index-Bts-4YLx.js";import"./index-BdQq_4o_.js";import"./sheet-CMEpnJqe.js";import"./index-BI6CrKg2.js";import"./tooltip-BzjTxjM0.js";import"./index-Bur4E9wJ.js";import"./chevron-down-DNksLOx3.js";import"./ellipsis-BWvFTAsp.js";import"./credenza-3netIWa9.js";import"./dialog-CMYKyR97.js";import"./input-D_xANFY4.js";import"./use-combine-values-DXlfacMq.js";import"./proxy-D3ZUg4-_.js";import"./circle-user-D2Z5yh8B.js";import"./LabelInputContainer-XQCpEK7k.js";import"./react-icons.esm-oGyrDKWE.js";import"./notify-B8WPPLZs.js";import"./play-audio-DP9JVqAd.js";import"./transition-E3hSKKH_.js";import"./search-HJj0K7uC.js";import"./profile_pic-BgAzqiSS.js";import"./select-K8YH05Sy.js";import"./index-B6yvsKc-.js";import"./chevrons-up-down-CgSDZjy1.js";import"./search-select-Cb-UKa6W.js";import"./popover-BGhxqbzK.js";import"./command-Bi-o4Peo.js";import"./password-input-CYbie0o9.js";import"./index-BtzfxFID.js";import"./textarea-B0o24yVn.js";import"./InputError-C35wS1yu.js";import"./multi-select-DPI-qEqD.js";import"./badge-DKcNn6KQ.js";import"./checkbox-CtxrMbYo.js";function Ne({auth:o,user:t,offer_unique_ids:l}){const{data:i,setData:m,put:d,errors:c,processing:f}=_({username:t.username,email:t.email,password:"",profile_image:t.profile_image,domain_id:t.domain_id,rate:t.rate,phone:t.phone,skype:t.skype,details:t.details,offer_ids:l,notification:t.notification,role:t.role,isVerified:t.isVerified,status:t.status}),[p,h]=r.useState({domains:[],offers:[]}),[x,u]=r.useState(!0),j=o.user.role,g=async()=>{try{const s=await Promise.all([fetch("/fetch/domains"),fetch("/fetch/offers")]),[b,U]=await Promise.all(s.map(a=>a.ok?a.json():Promise.reject(a)));h({domains:b,offers:U}),u(!1)}catch{n.error("Failed to fetch data. Please try again later.")}};r.useEffect(()=>{g()},[]);const y=async s=>{s.preventDefault(),d(`/dashboard/users/${t.unique_id}`,{onSuccess:()=>{n.success("User updated successfully")}})};return e.jsxs(F,{user:o.user,children:[e.jsx(N,{title:`Update ${t.id} - ${i.username}`,children:e.jsx("meta",{name:"description",content:i.details})}),e.jsxs("h2",{className:"text-lg",children:[t.id," - ",i.username]}),e.jsx("p",{className:"text-sm text-gray-500 hidden sm:block py-1",children:i.details}),e.jsx(e.Fragment,{children:x?e.jsx(k,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-2 rounded flex justify-between items-center",children:[e.jsxs("div",{className:"",children:[e.jsx(D,{children:"Upload Image"}),e.jsx("p",{className:"text-sm",children:"Upload and set a profile pin for user!"}),i.profile_image&&e.jsx("p",{className:"text-primary text-sm",children:i.profile_image})]}),e.jsx(I,{onUpload:s=>m({...i,profile_image:s}),selected_image:i.profile_image})]}),e.jsxs("form",{onSubmit:y,children:[e.jsx(P,{domains:p.domains,offers:p.offers,role:j,data:i,setData:m,errors:c,update:!1}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"w-full items-center flex gap-2",children:[e.jsx(w,{href:"/dashboard/users",className:`w-full ${S({variant:"outline"})}`,children:"Cancel"}),e.jsx(v,{label:"Update",className:"w-full",processing:f})]})]})]})})]})}export{Ne as default};
//# sourceMappingURL=index-C8GRhzkX.js.map
