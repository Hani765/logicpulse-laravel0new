{"version":3,"file":"index-Bjgs24Xg.js","sources":["../../../resources/js/Pages/Offers/components/create/index.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\r\nimport SubmitBtn from \"@/components/ui/SubmitBtn\";\r\nimport Authenticated from \"@/Layouts/AuthenticatedLayout\";\r\nimport { PageProps } from \"@/types\";\r\nimport { useState } from \"react\";\r\nimport Step1 from \"./steps/Step1\";\r\nimport Step2 from \"./steps/Step2\";\r\nimport Step3 from \"./steps/Step3\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useForm } from \"@inertiajs/react\";\r\nimport Stepper from \"@/components/ui/stepper\";\r\nimport Step4 from \"./steps/Step4\";\r\nimport Step5 from \"./steps/Step5\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function Index({ auth }: PageProps) {\r\n    const [currentStep, setCurrentStep] = useState(1);\r\n    const [showMeta, setShowMeta] = useState(false);\r\n    const [dataFetched, setDataFetched] = useState(false);\r\n    const [userDataFetched, setUserDataFetched] = useState(false);\r\n    const role = auth.user.role;\r\n    const [fetchedData, setFetchedData] = useState({\r\n        domains: [],\r\n        networks: [],\r\n        categories: [],\r\n    });\r\n    const [fetchedUsersData, setFetchedUsersData] = useState({\r\n        users: [],\r\n        countries: [],\r\n    });\r\n    const { post, processing, data, setData, errors, reset } = useForm({\r\n        main_url: \"\",\r\n        title: \"\",\r\n        description: \"\",\r\n        keywords: \"\",\r\n        image: \"\",\r\n        age: \"\",\r\n        rate: \"\",\r\n        encryption: \"\",\r\n        network_id: \"\",\r\n        domain_id: \"\",\r\n        category_id: \"\",\r\n        proxy: \"\",\r\n        details: \"\",\r\n        users_ids: \"\",\r\n        countries: \"\",\r\n        status: \"active\",\r\n        appliableFor: \"everyone\",\r\n        urls: [{ url: \"\", deviceType: \"all\" }],\r\n    });\r\n    const submitOffer = async (event: React.FormEvent) => {\r\n        event.preventDefault();\r\n        post(\"/dashboard/offers\", {\r\n            onSuccess: () => {\r\n                toast.success(\"Offer has been created!\");\r\n                reset();\r\n            },\r\n            onError: () => {\r\n                toast.error(\r\n                    \"An error occured while submitting form! Please check the form fields.\",\r\n                );\r\n                setCurrentStep(1);\r\n            },\r\n        });\r\n    };\r\n    const lastStep = 5;\r\n\r\n    const renderStep = () => {\r\n        switch (currentStep) {\r\n            case 1:\r\n                return (\r\n                    <Step1\r\n                        formData={data}\r\n                        setFormData={setData}\r\n                        errors={errors}\r\n                        showMeta={showMeta}\r\n                        setShowMeta={setShowMeta}\r\n                        currentStep={currentStep}\r\n                        setCurrentStep={setCurrentStep}\r\n                    />\r\n                );\r\n            case 2:\r\n                return (\r\n                    <Step2\r\n                        formData={data}\r\n                        setFormData={setData}\r\n                        errors={errors}\r\n                        dataFetched={dataFetched}\r\n                        setDataFetched={setDataFetched}\r\n                        currentStep={currentStep}\r\n                        setCurrentStep={setCurrentStep}\r\n                        fetchedData={fetchedData}\r\n                        setFetchedData={setFetchedData}\r\n                    />\r\n                );\r\n            case 3:\r\n                return (\r\n                    <Step3\r\n                        formData={data}\r\n                        setFormData={setData}\r\n                        currentStep={currentStep}\r\n                        setCurrentStep={setCurrentStep}\r\n                    />\r\n                );\r\n            case 4:\r\n                return (\r\n                    <Step4\r\n                        formData={data}\r\n                        setFormData={setData}\r\n                        errors={errors}\r\n                        userDataFetched={userDataFetched}\r\n                        setUserDataFetched={setUserDataFetched}\r\n                        currentStep={currentStep}\r\n                        setCurrentStep={setCurrentStep}\r\n                        fetchedUsersData={fetchedUsersData}\r\n                        setFetchedUsersData={setFetchedUsersData}\r\n                        role={role}\r\n                    />\r\n                );\r\n            case 5:\r\n                return (\r\n                    <Step5\r\n                        data={data}\r\n                        onClick={submitOffer}\r\n                        processing={processing}\r\n                        fetchedData={fetchedData}\r\n                        fetchedUsersData={fetchedUsersData}\r\n                    />\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const stepperItems = [\r\n        \"Basic Information\",\r\n        \"Network Details\",\r\n        \"Additional Details\",\r\n        \"Target Details\",\r\n        \"Review\",\r\n    ];\r\n\r\n    return (\r\n        <Authenticated user={auth.user}>\r\n            <Stepper\r\n                stepperItems={stepperItems}\r\n                currentStep={currentStep}\r\n                setCurrentStep={setCurrentStep}\r\n                lastStep={lastStep}\r\n            />\r\n            <div className=\"mt-6 overflow-x-hidden\">\r\n                <AnimatePresence mode=\"wait\">\r\n                    <motion.div\r\n                        key={currentStep}\r\n                        initial={{ opacity: 0, x: 100 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        exit={{ opacity: 0, x: -100 }}\r\n                        transition={{ duration: 0.3 }}\r\n                    >\r\n                        {renderStep()}\r\n                    </motion.div>\r\n                </AnimatePresence>\r\n            </div>\r\n        </Authenticated>\r\n    );\r\n}\r\n"],"names":["Index","auth","currentStep","setCurrentStep","useState","showMeta","setShowMeta","dataFetched","setDataFetched","userDataFetched","setUserDataFetched","role","fetchedData","setFetchedData","fetchedUsersData","setFetchedUsersData","post","processing","data","setData","errors","reset","useForm","submitOffer","event","toast","lastStep","renderStep","jsx","Step1","Step2","Step3","Step4","Step5","stepperItems","jsxs","Authenticated","Stepper","AnimatePresence","motion"],"mappings":"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"}