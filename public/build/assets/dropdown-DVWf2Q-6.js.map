{"version":3,"file":"dropdown-DVWf2Q-6.js","sources":["../../../resources/js/Pages/Users/components/dropdown.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuLabel,\r\n    DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { MoreHorizontal } from \"lucide-react\";\r\nimport {\r\n    Credenza,\r\n    CredenzaClose,\r\n    CredenzaContent,\r\n    CredenzaHeader,\r\n    CredenzaTitle,\r\n    CredenzaDescription,\r\n} from \"@/components/ui/credenza\";\r\nimport { useForm } from \"@inertiajs/react\";\r\nimport { toast } from \"sonner\";\r\nimport Update from \"./update/update\";\r\nimport { ReloadIcon } from \"@radix-ui/react-icons\";\r\nimport { FaTrashAlt } from \"react-icons/fa\";\r\n\r\ninterface DropdownProps {\r\n    rowCurrent: any;\r\n    role: string;\r\n}\r\n\r\nexport default function Dropdown({ rowCurrent, role }: DropdownProps) {\r\n    const unique_id = rowCurrent.unique_id;\r\n    const [deleteOpen, setDeleteOpen] = useState(false);\r\n    const { processing, delete: destroy } = useForm();\r\n    const deleteRow = (uniqueId: string) => {\r\n        destroy(`users/${uniqueId}`, {\r\n            onSuccess: () => {\r\n                toast.success(\"User deleted successfully\");\r\n            },\r\n            onError: () => {\r\n                toast.error(\"Failed to delete Tracker.\");\r\n            },\r\n        });\r\n    };\r\n    return (\r\n        <>\r\n            <div>\r\n                <DropdownMenu>\r\n                    <DropdownMenuTrigger asChild>\r\n                        <button className=\"focus:outline-none\">\r\n                            <span className=\"sr-only\">Open menu</span>\r\n                            <MoreHorizontal className=\"h-4 w-4\" />\r\n                        </button>\r\n                    </DropdownMenuTrigger>\r\n                    <DropdownMenuContent align=\"end\">\r\n                        <DropdownMenuLabel>Actions</DropdownMenuLabel>\r\n                        <Update role={role} unique_id={unique_id} />\r\n                        <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            className=\"py-1 w-full m-0 flex gap-4 text-red-600 hover:text-red-500\"\r\n                            onClick={() => setDeleteOpen(true)}\r\n                        >\r\n                            Delete\r\n                            <FaTrashAlt size={11} />\r\n                        </Button>\r\n                    </DropdownMenuContent>\r\n                </DropdownMenu>\r\n            </div>\r\n            <Credenza open={deleteOpen} onOpenChange={setDeleteOpen}>\r\n                <CredenzaContent>\r\n                    <CredenzaHeader>\r\n                        <CredenzaTitle>\r\n                            Are you sure you want to delete?\r\n                        </CredenzaTitle>\r\n                        <CredenzaDescription>\r\n                            This action cannot be undone. You are about to\r\n                            delete ({rowCurrent.username})\r\n                        </CredenzaDescription>\r\n                    </CredenzaHeader>\r\n                    <div className=\"flex justify-between flex-col gap-2 p-2\">\r\n                        <Button\r\n                            className=\"w-full\"\r\n                            variant=\"destructive\"\r\n                            disabled={processing}\r\n                            onClick={() => deleteRow(unique_id)}\r\n                        >\r\n                            {processing ? (\r\n                                <>\r\n                                    <ReloadIcon className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                                    Deleting\r\n                                </>\r\n                            ) : (\r\n                                \"Yes Delete\"\r\n                            )}\r\n                        </Button>\r\n                        <CredenzaClose className=\"w-full\">Cancel</CredenzaClose>\r\n                    </div>\r\n                </CredenzaContent>\r\n            </Credenza>\r\n        </>\r\n    );\r\n}\r\n"],"names":["Dropdown","rowCurrent","role","unique_id","deleteOpen","setDeleteOpen","useState","processing","destroy","useForm","deleteRow","uniqueId","toast","jsxs","Fragment","jsx","DropdownMenu","DropdownMenuTrigger","MoreHorizontal","DropdownMenuContent","DropdownMenuLabel","Update","Button","FaTrashAlt","Credenza","CredenzaContent","CredenzaHeader","CredenzaTitle","CredenzaDescription","ReloadIcon","CredenzaClose"],"mappings":"0qCA8BA,SAAwBA,GAAS,CAAE,WAAAC,EAAY,KAAAC,GAAuB,CAClE,MAAMC,EAAYF,EAAW,UACvB,CAACG,EAAYC,CAAa,EAAIC,WAAS,EAAK,EAC5C,CAAE,WAAAC,EAAY,OAAQC,GAAYC,EAAQ,EAC1CC,EAAaC,GAAqB,CAC5BH,EAAA,SAASG,CAAQ,GAAI,CACzB,UAAW,IAAM,CACbC,EAAM,QAAQ,2BAA2B,CAC7C,EACA,QAAS,IAAM,CACXA,EAAM,MAAM,2BAA2B,CAC3C,CAAA,CACH,CAAA,EAEL,OAEQC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACC,EAAA,IAAA,MAAA,CACG,gBAACC,EACG,CAAA,SAAA,CAAAD,EAAAA,IAACE,GAAoB,QAAO,GACxB,SAACJ,EAAA,KAAA,SAAA,CAAO,UAAU,qBACd,SAAA,CAACE,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAS,YAAA,EACnCA,EAAAA,IAACG,EAAe,CAAA,UAAU,SAAU,CAAA,CAAA,CAAA,CACxC,CACJ,CAAA,EACAL,EAAAA,KAACM,EAAoB,CAAA,MAAM,MACvB,SAAA,CAAAJ,EAAAA,IAACK,GAAkB,SAAO,SAAA,CAAA,EAC1BL,EAAAA,IAACM,EAAO,CAAA,KAAAnB,EAAY,UAAAC,CAAsB,CAAA,EAC1CU,EAAA,KAACS,EAAA,CACG,QAAQ,QACR,KAAK,KACL,UAAU,6DACV,QAAS,IAAMjB,EAAc,EAAI,EACpC,SAAA,CAAA,SAEGU,EAAAA,IAACQ,EAAW,CAAA,KAAM,EAAI,CAAA,CAAA,CAAA,CAC1B,CAAA,EACJ,CAAA,CAAA,CACJ,CACJ,CAAA,QACCC,EAAS,CAAA,KAAMpB,EAAY,aAAcC,EACtC,gBAACoB,EACG,CAAA,SAAA,CAAAZ,OAACa,EACG,CAAA,SAAA,CAAAX,EAAAA,IAACY,GAAc,SAEf,kCAAA,CAAA,SACCC,EAAoB,CAAA,SAAA,CAAA,0DAER3B,EAAW,SAAS,GAAA,EACjC,CAAA,EACJ,EACAY,EAAAA,KAAC,MAAI,CAAA,UAAU,0CACX,SAAA,CAAAE,EAAA,IAACO,EAAA,CACG,UAAU,SACV,QAAQ,cACR,SAAUf,EACV,QAAS,IAAMG,EAAUP,CAAS,EAEjC,WAEOU,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAACC,EAAAA,IAAAc,EAAA,CAAW,UAAU,2BAA4B,CAAA,EAAE,UAAA,CAAA,CAExD,EAEA,YAAA,CAER,EACCd,EAAA,IAAAe,EAAA,CAAc,UAAU,SAAS,SAAM,SAAA,CAAA,EAC5C,CAAA,CAAA,CACJ,CACJ,CAAA,CACJ,CAAA,CAAA,CAER"}