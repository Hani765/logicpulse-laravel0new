{"version":3,"file":"Sessions-DZgiE2WB.js","sources":["../../../node_modules/lucide-react/dist/esm/icons/laptop-minimal.js","../../../resources/js/Pages/Settings/Profile/Partials/Sessions.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.417.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LaptopMinimal = createLucideIcon(\"LaptopMinimal\", [\n  [\"rect\", { width: \"18\", height: \"12\", x: \"3\", y: \"4\", rx: \"2\", ry: \"2\", key: \"1qhy41\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"20\", y2: \"20\", key: \"ni3hll\" }]\n]);\n\nexport { LaptopMinimal as default };\n//# sourceMappingURL=laptop-minimal.js.map\n","import { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Transition } from \"@headlessui/react\";\nimport { useForm } from \"@inertiajs/react\";\nimport { MobileIcon, ReloadIcon } from \"@radix-ui/react-icons\";\nimport { Laptop2 } from \"lucide-react\";\nimport React, { useEffect, useState } from \"react\";\nimport { FaMobile } from \"react-icons/fa6\";\nimport { toast } from \"sonner\";\n\nexport default function Sessions() {\n    const [sessionsData, setSessionsData] = useState([]);\n    const [fetching, setFetching] = useState(true);\n    const { delete: destroy, processing, recentlySuccessful } = useForm();\n\n    const fetchData = async () => {\n        const response = await fetch(\"/sessions\");\n        if (response.ok) {\n            const dataSessions = await response.json();\n            setSessionsData(dataSessions);\n            setFetching(false);\n        }\n    };\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\n    const revokeSession = async (id: string) => {\n        destroy(`/sessions/${id}`, {\n            preserveScroll: true,\n            onSuccess: () => {\n                fetchData();\n            },\n        });\n    };\n\n    return (\n        <Card>\n            <CardHeader>\n                <CardTitle>Sessions</CardTitle>\n            </CardHeader>\n            <CardContent>\n                {fetching ? (\n                    <div className=\"space-y-6\">\n                        <SkeletonPlaceholder />\n                        <SkeletonPlaceholder />\n                        <SkeletonPlaceholder />\n                    </div>\n                ) : (\n                    <ul className=\"divide-y divide-gray-200 dark:divide-gray-700\">\n                        {sessionsData.map((sessionData: any) => (\n                            <li\n                                key={sessionData.id}\n                                className=\"py-4 flex gap-4 overflow-hidden\"\n                            >\n                                <div className=\"flex w-full gap-4 items-center\">\n                                    {sessionData.device_type === \"Desktop\" ? (\n                                        <Laptop2 />\n                                    ) : (\n                                        <FaMobile size={22} />\n                                    )}\n                                    <div className=\"space-y-1\">\n                                        <p className=\"text-base font-semibold text-gray-900 dark:text-white cursor-pointer\">\n                                            {sessionData.country}(\n                                            {sessionData.city})-\n                                            {sessionData.ip_address}\n                                        </p>\n                                        <p className=\"text-sm font-semibold text-gray-900 truncate dark:text-white\">\n                                            {sessionData.device_type}(\n                                            {sessionData.platform}\n                                            {sessionData.platform_version})-\n                                            {sessionData.browser}\n                                        </p>\n                                    </div>\n                                </div>\n                                {!sessionData.is_active ? (\n                                    <Button\n                                        type=\"submit\"\n                                        disabled={processing}\n                                        variant=\"outline\"\n                                        onClick={() =>\n                                            revokeSession(sessionData.id)\n                                        }\n                                    >\n                                        {processing ? (\n                                            <React.Fragment>\n                                                <ReloadIcon className=\"mr-2 h-4 w-4 animate-spin\" />\n                                            </React.Fragment>\n                                        ) : (\n                                            \"Revoke\"\n                                        )}\n                                    </Button>\n                                ) : (\n                                    <>\n                                        <span className=\"text-sm text-green-600 mr-2 pr-2 \">\n                                            (active)\n                                        </span>\n                                    </>\n                                )}\n                            </li>\n                        ))}\n                    </ul>\n                )}\n                <Transition\n                    show={recentlySuccessful}\n                    enter=\"transition ease-in-out\"\n                    enterFrom=\"opacity-0\"\n                    leave=\"transition ease-in-out\"\n                    leaveTo=\"opacity-0\"\n                >\n                    <p className=\"text-sm text-primary\">\n                        Session rewoked successfully.\n                    </p>\n                </Transition>\n            </CardContent>\n        </Card>\n    );\n}\n\nconst SkeletonPlaceholder = () => (\n    <div className=\"flex justify-between items-center gap-4\">\n        <div className=\"flex gap-4 w-full\">\n            <Skeleton className=\"w-8 h-10\" />\n            <div className=\"space-y-2 w-full\">\n                <Skeleton className=\"w-[80%] h-5\" />\n                <Skeleton className=\"w-[50%] h-3\" />\n            </div>\n        </div>\n        <Skeleton className=\"w-20 h-10\" />\n    </div>\n);\n"],"names":["LaptopMinimal","createLucideIcon","Sessions","sessionsData","setSessionsData","useState","fetching","setFetching","destroy","processing","recentlySuccessful","useForm","fetchData","response","dataSessions","useEffect","revokeSession","id","Card","jsx","CardHeader","CardTitle","CardContent","jsxs","SkeletonPlaceholder","sessionData","Laptop2","FaMobile","Fragment","Button","React","ReloadIcon","Transition","Skeleton"],"mappings":"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","x_google_ignoreList":[0]}