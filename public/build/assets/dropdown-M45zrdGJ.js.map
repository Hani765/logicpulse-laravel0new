{"version":3,"file":"dropdown-M45zrdGJ.js","sources":["../../../resources/js/Pages/Offers/components/dropdown.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n    DropdownMenu,\n    DropdownMenuContent,\n    DropdownMenuItem,\n    DropdownMenuLabel,\n    DropdownMenuSeparator,\n    DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { MoreHorizontal } from \"lucide-react\";\nimport {\n    Credenza,\n    CredenzaClose,\n    CredenzaContent,\n    CredenzaHeader,\n    CredenzaTitle,\n    CredenzaDescription,\n} from \"@/components/ui/credenza\";\nimport { Link, useForm } from \"@inertiajs/react\";\nimport { toast } from \"sonner\";\nimport { ReloadIcon } from \"@radix-ui/react-icons\";\nimport { FaTrashAlt } from \"react-icons/fa\";\nimport { FaPencil } from \"react-icons/fa6\";\nimport { IoEyeOutline } from \"react-icons/io5\";\n\ninterface DropdownProps {\n    rowCurrent: any;\n    role: string;\n}\n\nexport default function Dropdown({ rowCurrent, role }: DropdownProps) {\n    const [deleteOpen, setDeleteOpen] = useState(false);\n    const unique_id = rowCurrent.unique_id;\n    const { processing, delete: destroy } = useForm();\n    const deleteRow = (uniqueId: string) => {\n        destroy(`offers/${uniqueId}`, {\n            onSuccess: () => {\n                toast.success(\"Offer deleted successfully\");\n            },\n            onError: () => {\n                toast.error(\"Failed to delete Tracker.\");\n            },\n        });\n    };\n\n    return (\n        <>\n            <div>\n                <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                        <button className=\"focus:outline-none\">\n                            <span className=\"sr-only\">Open menu</span>\n                            <MoreHorizontal className=\"h-4 w-4\" />\n                        </button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent align=\"end\">\n                        <DropdownMenuLabel>Actions</DropdownMenuLabel>\n                        <DropdownMenuItem>\n                            <Link\n                                href={`offers/${unique_id}`}\n                                className=\"flex gap-4 items-center justify-center w-full py-1\"\n                            >\n                                View\n                                <IoEyeOutline size={11} />\n                            </Link>\n                        </DropdownMenuItem>\n                        {role === \"admin\" || role === \"administrator\" ? (\n                            <>\n                                <DropdownMenuItem>\n                                    <a\n                                        href={`/dashboard/offers/${unique_id}/edit`}\n                                        className=\"flex gap-4 items-center justify-center w-full py-1\"\n                                        target=\"_blank\"\n                                        rel=\"noopener noreferrer\"\n                                    >\n                                        Edit\n                                        <FaPencil size={11} />\n                                    </a>\n                                </DropdownMenuItem>\n                                <DropdownMenuSeparator />\n\n                                <Button\n                                    variant=\"ghost\"\n                                    size=\"sm\"\n                                    className=\"py-1 w-full m-0 flex gap-4 text-red-600 hover:text-red-500\"\n                                    onClick={() => setDeleteOpen(true)}\n                                >\n                                    Delete\n                                    <FaTrashAlt size={11} />\n                                </Button>\n                            </>\n                        ) : null}\n                    </DropdownMenuContent>\n                </DropdownMenu>\n            </div>\n            <Credenza open={deleteOpen} onOpenChange={setDeleteOpen}>\n                <CredenzaContent>\n                    <CredenzaHeader>\n                        <CredenzaTitle>\n                            Are you sure you want to delete?\n                        </CredenzaTitle>\n                        <CredenzaDescription>\n                            This action cannot be undone. You are about to\n                            delete ({rowCurrent.name})\n                        </CredenzaDescription>\n                    </CredenzaHeader>\n                    <div className=\"flex justify-between flex-col gap-2 p-2\">\n                        <Button\n                            className=\"w-full\"\n                            variant=\"destructive\"\n                            disabled={processing}\n                            onClick={() => deleteRow(unique_id)}\n                        >\n                            {processing ? (\n                                <>\n                                    <ReloadIcon className=\"mr-2 h-4 w-4 animate-spin\" />\n                                    Deleting\n                                </>\n                            ) : (\n                                \"Yes Delete\"\n                            )}\n                        </Button>\n                        <CredenzaClose className=\"w-full\">Cancel</CredenzaClose>\n                    </div>\n                </CredenzaContent>\n            </Credenza>\n        </>\n    );\n}\n"],"names":["Dropdown","rowCurrent","role","deleteOpen","setDeleteOpen","useState","unique_id","processing","destroy","useForm","deleteRow","uniqueId","toast","jsxs","Fragment","jsx","DropdownMenu","DropdownMenuTrigger","MoreHorizontal","DropdownMenuContent","DropdownMenuLabel","DropdownMenuItem","Link","IoEyeOutline","FaPencil","DropdownMenuSeparator","Button","FaTrashAlt","Credenza","CredenzaContent","CredenzaHeader","CredenzaTitle","CredenzaDescription","ReloadIcon","CredenzaClose"],"mappings":"8aAiCA,SAAwBA,EAAS,CAAE,WAAAC,EAAY,KAAAC,GAAuB,CAClE,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAAA,SAAS,EAAK,EAC5CC,EAAYL,EAAW,UACvB,CAAE,WAAAM,EAAY,OAAQC,CAAA,EAAYC,EAAQ,EAC1CC,EAAaC,GAAqB,CAC5BH,EAAA,UAAUG,CAAQ,GAAI,CAC1B,UAAW,IAAM,CACbC,EAAM,QAAQ,4BAA4B,CAC9C,EACA,QAAS,IAAM,CACXA,EAAM,MAAM,2BAA2B,CAAA,CAC3C,CACH,CACL,EAEA,OAEQC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAACC,EAAA,IAAA,MAAA,CACG,gBAACC,EACG,CAAA,SAAA,CAAAD,EAAAA,IAACE,GAAoB,QAAO,GACxB,SAACJ,EAAA,KAAA,SAAA,CAAO,UAAU,qBACd,SAAA,CAACE,EAAA,IAAA,OAAA,CAAK,UAAU,UAAU,SAAS,YAAA,EACnCA,EAAAA,IAACG,EAAe,CAAA,UAAU,SAAU,CAAA,CAAA,CAAA,CACxC,CACJ,CAAA,EACAL,EAAAA,KAACM,EAAoB,CAAA,MAAM,MACvB,SAAA,CAAAJ,EAAAA,IAACK,GAAkB,SAAO,SAAA,CAAA,QACzBC,EACG,CAAA,SAAAR,EAAA,KAACS,EAAA,CACG,KAAM,UAAUhB,CAAS,GACzB,UAAU,qDACb,SAAA,CAAA,OAEGS,EAAAA,IAACQ,EAAa,CAAA,KAAM,EAAI,CAAA,CAAA,CAAA,CAAA,EAEhC,EACCrB,IAAS,SAAWA,IAAS,gBAEtBW,EAAAA,KAAAC,EAAAA,SAAA,CAAA,SAAA,CAAAC,MAACM,EACG,CAAA,SAAAR,EAAA,KAAC,IAAA,CACG,KAAM,qBAAqBP,CAAS,QACpC,UAAU,qDACV,OAAO,SACP,IAAI,sBACP,SAAA,CAAA,OAEGS,EAAAA,IAACS,EAAS,CAAA,KAAM,EAAI,CAAA,CAAA,CAAA,CAAA,EAE5B,QACCC,EAAsB,EAAA,EAEvBZ,EAAA,KAACa,EAAA,CACG,QAAQ,QACR,KAAK,KACL,UAAU,6DACV,QAAS,IAAMtB,EAAc,EAAI,EACpC,SAAA,CAAA,SAEGW,EAAAA,IAACY,EAAW,CAAA,KAAM,EAAI,CAAA,CAAA,CAAA,CAAA,CAC1B,CAAA,CACJ,EACA,IAAA,CACR,CAAA,CAAA,CAAA,CACJ,CACJ,CAAA,QACCC,EAAS,CAAA,KAAMzB,EAAY,aAAcC,EACtC,gBAACyB,EACG,CAAA,SAAA,CAAAhB,OAACiB,EACG,CAAA,SAAA,CAAAf,EAAAA,IAACgB,GAAc,SAEf,kCAAA,CAAA,SACCC,EAAoB,CAAA,SAAA,CAAA,0DAER/B,EAAW,KAAK,GAAA,CAC7B,CAAA,CAAA,EACJ,EACAY,EAAAA,KAAC,MAAI,CAAA,UAAU,0CACX,SAAA,CAAAE,EAAA,IAACW,EAAA,CACG,UAAU,SACV,QAAQ,cACR,SAAUnB,EACV,QAAS,IAAMG,EAAUJ,CAAS,EAEjC,WAEOO,EAAAA,KAAAC,EAAA,SAAA,CAAA,SAAA,CAACC,EAAAA,IAAAkB,EAAA,CAAW,UAAU,2BAA4B,CAAA,EAAE,UAAA,CAAA,CAExD,EAEA,YAAA,CAER,EACClB,EAAA,IAAAmB,EAAA,CAAc,UAAU,SAAS,SAAM,QAAA,CAAA,CAAA,CAC5C,CAAA,CAAA,CAAA,CACJ,CACJ,CAAA,CAAA,EACJ,CAER"}