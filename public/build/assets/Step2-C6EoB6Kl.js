import{r as p,j as e,Y as C,B as g,J as E}from"./app-CkWx0ziT.js";import{I as v}from"./InputError-C35wS1yu.js";import{L as N}from"./label-BJBSjzRP.js";import{L as h}from"./LabelInputContainer-XQCpEK7k.js";import{S as x}from"./search-select-Cb-UKa6W.js";import{S as P,a as I,b as R,c as q,d as L}from"./select-K8YH05Sy.js";import{S as o}from"./skeleton-Dcg2qklM.js";import{R as B}from"./react-icons.esm-oGyrDKWE.js";import"./input-D_xANFY4.js";import"./use-combine-values-DXlfacMq.js";import"./proxy-D3ZUg4-_.js";import"./tooltip-BzjTxjM0.js";import"./index-Bur4E9wJ.js";import"./popover-BGhxqbzK.js";import"./command-Bi-o4Peo.js";import"./dialog-CMYKyR97.js";import"./index-BI6CrKg2.js";import"./search-HJj0K7uC.js";import"./index-D4WClUwC.js";import"./chevrons-up-down-CgSDZjy1.js";import"./index-BdQq_4o_.js";import"./index-B6yvsKc-.js";import"./chevron-down-DNksLOx3.js";const oe=({formData:r,setFormData:a,errors:l,dataFetched:f,currentStep:n,setCurrentStep:u,setDataFetched:w,setFetchedData:k,fetchedData:m})=>{const[S,j]=p.useState(!1),y=async()=>{j(!0);try{const s=await Promise.all([fetch("/fetch/domains"),fetch("/fetch/networks"),fetch("/fetch/categories")]),[t,i,_]=await Promise.all(s.map(d=>d.ok?d.json():Promise.reject(d)));k({domains:t,networks:i,categories:_}),j(!1),w(!0)}catch{E.error("Failed to fetch data. Please try again later.")}};p.useEffect(()=>{f===!1&&y()},[f]);const[c,b]=p.useState(r.keywords?r.keywords.split(","):[]),T=s=>{const t=s.currentTarget.value.trim();if((s.key==="Enter"||s.key===",")&&t){if(!c.includes(t)){const i=[...c,t];b(i),a({...r,tags:i.join(",")})}s.currentTarget.value=""}},M=s=>{const t=c.filter(i=>i!==s);b(t),a({...r,tags:t.join(",")})};return e.jsxs("div",{children:[e.jsx(C,{title:"Network Details"}),S?e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsx(o,{className:"h-10"}),e.jsx(o,{className:"h-10"}),e.jsx(o,{className:"h-10"})]}),e.jsx(o,{className:"h-10"}),e.jsxs("div",{className:"w-full grid grid-cols-3 gap-2 items-center",children:[e.jsx(o,{className:"h-10 col-span-2"}),e.jsx(o,{className:"h-10"})]}),e.jsx(o,{className:"h-10"})]}):e.jsxs("div",{className:"space-y-2 bg-white p-4 rounded dark:bg-slate-900",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsx(h,{type:"number",value:r.age,onChange:s=>a({...r,age:s.target.value}),required:!0,helperText:"18",errorMessage:l.age,bottomMessage:"Specify the minimum age required to avail this offer.",label:"Age:",id:"age"}),e.jsx(h,{type:"number",value:r.rate,onChange:s=>a({...r,rate:s.target.value}),required:!0,helperText:"150",errorMessage:l.rate,bottomMessage:"Enter the rate for this offer in your local currency.",label:"Rate:",id:"rate"}),e.jsx(h,{type:"number",value:r.encryption,onChange:s=>a({...r,encryption:s.target.value}),helperText:"****",errorMessage:l.encryption,bottomMessage:"Specify the encryption level or code for the offer, if applicable.",label:"Encryption:",id:"encryption"})]}),e.jsx("div",{className:"w-full",children:e.jsx(x,{label:"Select Network",items:m.networks,onSelect:s=>a({...r,network_id:s}),selected_value:r.network_id,bottomMessage:"Choose the network associated with this offer.",errorMessage:l.network_id})}),e.jsxs("div",{className:"w-full grid grid-cols-3 gap-4 items-center",children:[e.jsx("div",{className:"col-span-2",children:e.jsx(x,{label:"Select Domain",items:m.domains,onSelect:s=>a({...r,domain_id:s}),selected_value:r.domain_id,bottomMessage:"Select the domain where this offer will be available.",errorMessage:l.domain_id})}),e.jsxs("div",{className:"w-full",children:[e.jsx(N,{children:"Proxy check"}),e.jsxs(P,{required:!0,value:r.proxy,onValueChange:s=>a({...r,proxy:s}),children:[e.jsx(I,{className:"",children:e.jsx(R,{placeholder:"proxy"})}),e.jsx(q,{side:"top",children:["yes","no"].map(s=>e.jsx(L,{value:s,children:s},s))})]}),e.jsx(v,{message:l.proxy}),e.jsx("p",{className:"text-gray-500 mt-1 text-sm whitespace-nowrap",children:"Seletet for thsi offer to check that check proxy or not?"})]})]}),e.jsx(x,{label:"Select Category",items:m.categories,onSelect:s=>a({...r,category_id:s}),selected_value:r.category_id,bottomMessage:"Pick a category that best describes the offer.",errorMessage:l.category_id}),e.jsxs("div",{className:"w-full",children:[e.jsx(N,{children:"Related Tags"}),e.jsxs("div",{className:"border rounded p-2 flex flex-wrap gap-2 bg-gray-50 dark:bg-gray-800",children:[c.map((s,t)=>e.jsxs("div",{className:"bg-blue-200 text-blue-700 rounded px-2 py-1 flex items-center",children:[s,e.jsx("button",{type:"button",className:"ml-2 text-red-500",onClick:()=>M(s),children:"Ã—"})]},t)),e.jsx("input",{type:"text",onKeyDown:T,placeholder:"Type a tag and press enter or comma",className:"flex-1 border-none outline-none bg-transparent"})]}),e.jsx("p",{className:"text-gray-500 mt-1 text-sm",children:"Type tags and press enter or comma to add. (max:1000)"}),e.jsx(v,{message:l.keywords})]}),e.jsxs("div",{className:"flex w-full justify-end items-center mt-4",children:[e.jsx("div",{className:"w-full flex justify-end items-center mr-2",children:e.jsx(g,{variant:"outline",size:"icon",onClick:y,children:e.jsx(B,{})})}),n>1&&e.jsx(g,{onClick:()=>u(n-1),className:"mr-2",children:"Back"}),e.jsx(g,{onClick:()=>u(n+1),className:"mr-2",children:"Next"})]})]})]})};export{oe as default};
//# sourceMappingURL=Step2-C6EoB6Kl.js.map
